(this.webpackJsonpgateway=this.webpackJsonpgateway||[]).push([[12],{1166:function(e,t,a){"use strict";a.r(t);var s,n=a(15),i=a(9),r=a(10),c=a(6),o=a.n(c),u=a(3),d=a(201),l=a(44),p=a(5),k=a(4).c.main(s||(s=Object(p.a)(["\n    margin: 20px 0;\n"]))),O=a(594),m=a(1096),v=a(152),b=a(1150),j=a(29),f=a(405),g=a(422),h=a(2);t.default=function(e){var t=e.edit,a=void 0!==t&&t,s=Object(l.g)().state,c=Object(l.i)().gateData,p=Object(u.useState)(!1),y=Object(r.a)(p,2),q=y[0],w=y[1],N=Object(u.useState)(j.a),x=Object(r.a)(N,2),D=x[0],I=x[1],L=Object(u.useState)({text:"Gate",url:"/gate/".concat(c.id)}),E=Object(r.a)(L,2),S=E[0],A=E[1],T=Object(u.useState)((function(){return function(e){return null}})),z=Object(r.a)(T,2),C=z[0],R=z[1],_=Object(u.useState)({type:"SELF_VERIFY"}),F=Object(r.a)(_,2),V=(F[0],F[1],Object(m.a)(Object(v.d)(D))),B=Object(r.a)(V,2),G=B[0],J=B[1].loading,M=function(){switch(P.values.taskLink){case"self-verify":return{type:"SELF_VERIFY"};case"quiz":return{type:"QUIZ",title:P.values.quiz.title,description:P.values.quiz.description,questions:P.values.quiz.questions,passedAt:Math.floor(P.values.quiz.questions.length*P.values.quiz.percentage)};case"meeting-code":return{type:"MEETING_CODE",code:P.values.code,caseSensitive:!0};case"token":return{type:"TOKEN_HOLD",chainID:1,address:P.values.address,amount:P.values.amount};case"sc-interaction":return{type:"CONTRACT_INTERACTION",chainID:P.values.chain,address:P.values.address,methodName:P.values.methodName||""};case"governance":return{type:"SNAPSHOT_GOVERNANCE",snapshotType:P.values.govActive.toUpperCase(),spaceID:P.values.spaceID,proposal:P.values.proposal};case"manual":return{type:"MANUAL"};default:return{type:""}}},P=Object(O.b)({initialValues:{taskLink:s?s.data.task.type.toLowerCase().replace(/_/g,"-"):"",titleDescriptionPair:s?s.data.information.map((function(e){return{title:e.title,description:e.description}})):[{title:"",description:""}],keysRewarded:s?s.data.keys:0,peopleLimit:s?s.data.peopleLimit:0,unlimited:!!s&&s.data.unlimited,chain:s?s.data.task.chain:1,address:s?s.data.task.address:"",amount:s?s.data.task.amount:0,code:s?s.data.task.code:"",methodName:s?s.data.task.methodName:"",govActive:s?s.data.task.snapshotType:"",spaceID:s?s.data.task.spaceID:"",proposal:s?s.data.task.proposal:"",quiz:{title:s?s.data.task.title:"",description:s?s.data.task.description:"",percentage:s?s.data.task:0,questions:s?s.data.task.questions:[{question:"",options:[{answer:"",correct:!1},{answer:"",correct:!1}],nrOfCorrectAnswers:0}]}},validate:function(e){return Object(i.a)({},C(e))},onSubmit:function(){var e=Object(n.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(D),console.log(M()),e.next=5,G({variables:{input:{id:Object(b.a)(),gateID:c.id,information:t.titleDescriptionPair,token:"",tokenAmount:0,keys:t.keysRewarded,peopleLimit:t.peopleLimit,unlimited:t.unlimited,task:a?JSON.stringify(M()):M()}}});case 5:w(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()});return Object(u.useEffect)((function(){I(s?j.a:function(){switch(P.values.taskLink){case"self-verify":return j.j;case"quiz":return j.i;case"meeting-code":return j.h;case"token":return j.m;case"sc-interaction":return j.c;case"governance":return j.k;case"manual":return j.g;default:return D}}())}),[P.values.taskLink]),Object(h.jsx)(k,{children:Object(h.jsx)(g.a,{children:q?Object(h.jsx)(f.a,{edit:!!s,gate:c.id}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(d.a,{url:S.url,children:["Back to ",S.text]}),Object(h.jsx)(l.b,{context:{gateData:c,formik:P,edit:!!s||a,loading:J,setBackButton:A,setValidator:R,state:s}})]})})})}}}]);
//# sourceMappingURL=12.56ab4990.chunk.js.map