(this.webpackJsonpgateway=this.webpackJsonpgateway||[]).push([[9],{1165:function(e,t,a){"use strict";a.r(t);var r=a(9),n=a(15),c=a(10),s=a(6),o=a.n(s),u=a(44),d=a(68),i=a(3),p=function(){var e=Object(n.a)(o.a.mark((function e(t){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.coingecko.com/api/v3/coins/ethereum/contract/".concat(t));case 2:return a=e.sent,e.next=5,a.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=a(408),l=a(152),b=a(87),_=a(2);t.default=function(e){var t=Object(u.j)().id,a=Object(i.useState)({tokenAddress:"",socials:{},categories:[],bounties:[],description:"",howToJoin:[],tags:[],tokenBenefits:[],whitelistedAddresses:[]}),s=Object(c.a)(a,2),f=s[0],h=s[1],m=Object(k.a)(Object(l.d)(b.b),{variables:{dao:t}}),g=m.data,j=m.loading,O=m.error,y=m.called,v=Object(i.useState)(!1),w=Object(c.a)(v,2),x=w[0],A=w[1],D=function(){var e=Object(n.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){var e=function(){var e=Object(n.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===f||void 0===f||!f.tokenAddress){e.next=6;break}return e.next=3,D(null===f||void 0===f?void 0:f.tokenAddress);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0={};case 7:t=e.t0,a=f.tokenAddress&&t.market_data?{symbol:t.symbol,ranking:t.market_cap_rank,tokenFeed:{price:t.market_data.current_price.usd,ath:t.market_data.ath.usd,atl:t.market_data.atl.usd,marketCap:t.market_data.market_cap.usd,change24h:t.market_data.price_change_percentage_24h,change7d:t.market_data.price_change_percentage_7d,totalSupply:t.market_data.total_supply,circulatingSupply:t.market_data.circulating_supply},showTokenFeed:!0}:{showTokenFeed:!1},h(Object(r.a)(Object(r.a)({},f),a));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();f&&f.tokenAddress&&e()}),[f.tokenAddress]),Object(i.useEffect)((function(){var e=function(){var e=Object(n.a)(o.a.mark((function e(){var t,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f||j||O){e.next=13;break}if(!g.tokenAddress){e.next=7;break}return e.next=4,D(g.tokenAddress).catch((function(e){console.log(e)}));case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0={};case 8:t=e.t0,a=g.getDAOById.items[0].tokenAddress&&t.symbol?{symbol:t.symbol,ranking:t.market_cap_rank,tokenFeed:{price:t.market_data.current_price.usd,ath:t.market_data.ath.usd,atl:t.market_data.atl.usd,marketCap:t.market_data.market_cap.usd,change24h:t.market_data.price_change_percentage_24h,change7d:t.market_data.price_change_percentage_7d,totalSupply:t.market_data.total_supply,circulatingSupply:t.market_data.circulating_supply},showTokenFeed:!0}:{showTokenFeed:!1},n=Object(r.a)(Object(r.a)({},g.getDAOById.items[0]),a),h(n),A(!0);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t,j]),Object(i.useEffect)((function(){y&&g&&h(Object(r.a)(Object(r.a)({},f),g.getDAOById.items[0]))}),[g,y]),O?(console.error(O),Object(_.jsx)(u.a,{to:"/404"})):Object(_.jsx)(d.a,{children:Object(_.jsx)(u.b,{context:{daoData:f,setDaoData:h,loaded:x,loading:j}})})}}}]);
//# sourceMappingURL=9.69935f22.chunk.js.map